---
title: Nomogram, Validation, and Calibration Report
author: Generated by hdnom
date: "`r Sys.Date()`"
graphics: yes
---

```{r, echo = FALSE}
opts_chunk$set(echo = FALSE, comment = NA, 
               fig.width = 8, fig.height = 8)
```

# Nomogram

## Plotted Nomogram

The plotted nomogram:

```{r plot_nomogram}
calcedNomogram = calcNomogram()
plot(calcedNomogram$'nom')
```

## Nomogram Summary

Basic information about the nomogram:

```{r print_nomogram}
print(calcedNomogram$'nom')
```

## Model Information

Basic information about the model:

```{r print_model}
print(calcedNomogram$'object')
```

# Internal Validation

## Internal Validation Plot

Plot of the internal validation result:

```{r plot_validate}
calcedValidate = calcValidate()
plot(calcedValidate)
```

## Internal Validation Summary

Internal validation summary:

```{r summary_validate}
summary(calcedValidate)
```

## Internal Validation Information

Basic information about the internal validation:

```{r print_validate}
print(calcedValidate)
```

# Internal Calibration

## Internal Calibration Plot

Plot of the internal calibration result:

```{r plot_calibrate}
calcedCalibrate = calcCalibrate()
plot(calcedCalibrate,
     xlim = c(input$calibrate_xlim_lo, input$calibrate_xlim_up),
     ylim = c(input$calibrate_xlim_lo, input$calibrate_xlim_up))
```

## Internal Calibration Summary

Internal calibration summary:

```{r summary_calibrate}
summary(calcedCalibrate)
```

## Internal Calibration Information

Basic information about the internal calibration:

```{r print_calibrate}
print(calcedCalibrate)
```

## Kaplan-Meier Analysis of Risk Groups

Kaplan-Meier survival curves and number at risk table for risk groups:

```{r plot_calibrate_km}
hdnom::kmplot(calcedCalibrate,
             time.at = seq(input$calibrate_km_from,
                           input$calibrate_km_to,
                           input$calibrate_km_by))
```

## Log-Rank Test for Risk Groups

```{r print_calibrate_logrank}
calcedCalibrateLogRank = hdnom::logrank_test(calcedCalibrate)
print(calcedCalibrateLogRank)
cat('\n', ' The p-value of log-rank test:\n')
cat(' ', calcedCalibrateLogRank$pval)
```

<hr>

Report generated at `r Sys.time()`.

# Session Information

```{r sessioninfo}
sessionInfo()
```
