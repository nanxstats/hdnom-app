---
title: External Validation and Calibration Report
author: Generated by hdnom
date: "`r Sys.Date()`"
graphics: yes
---

```{r, echo = FALSE}
opts_chunk$set(echo = FALSE, comment = NA, 
               fig.width = 8, fig.height = 8)
```

# External Validation

## External Validation Plot

Plot of the external validation result:

```{r plot_external_validate}
calcedExternalValidate = calcExternalValidate()
plot(calcedExternalValidate)
```

## External Validation Summary

External validation summary:

```{r summary_external_validate}
summary(calcedExternalValidate)
```

## External Validation Information

Basic information about the external validation:

```{r print_external_validate}
print(calcedExternalValidate)
```

# External Calibration

## External Calibration Plot

Plot of the external calibration result:

```{r plot_external_calibrate}
calcedExternalCalibrate = calcExternalCalibrate()
plot(calcedExternalCalibrate,
     xlim = c(input$external_calibrate_xlim_lo, input$external_calibrate_xlim_up),
     ylim = c(input$external_calibrate_xlim_lo, input$external_calibrate_xlim_up))
```

## External Calibration Summary

External calibration summary:

```{r summary_external_calibrate}
summary(calcedExternalCalibrate)
```

## External Calibration Information

Basic information about the external calibration:

```{r print_external_calibrate}
print(calcedExternalCalibrate)
```

## Kaplan-Meier Analysis of Risk Groups

Kaplan-Meier survival curves and number at risk table for risk groups:

```{r plot_external_calibrate_km}
hdnom.kmplot(calcedExternalCalibrate,
             time.at = seq(input$external_calibrate_km_from,
                           input$external_calibrate_km_to,
                           input$external_calibrate_km_by))
```

## Log-Rank Test for Risk Groups

```{r print_external_calibrate_logrank}
calcedExternalCalibrateLogRank = hdnom.logrank(calcedExternalCalibrate)
print(calcedExternalCalibrateLogRank)
cat('\n', ' The p-value of log-rank test:\n')
cat(' ', calcedExternalCalibrateLogRank$pval)
```

<hr>

External validation/calibration report generated at `r Sys.time()`.

# Session Information

```{r sessioninfo}
sessionInfo()
```
